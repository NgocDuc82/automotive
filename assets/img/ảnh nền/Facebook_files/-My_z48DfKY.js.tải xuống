if (self.CavalryLogger) { CavalryLogger.start_js(["YWZKUPD"]); }

__d("reformCometComposerAnimatedImageFromStoryAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerAnimatedImageFromStoryAttachment_attachment"};e.exports=a}),null);
__d("reformCometComposerAnimatedImage_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerAnimatedImage_story"};e.exports=a}),null);
__d("reformCometComposerMessage_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerMessage_story"};e.exports=a}),null);
__d("reformCometComposerRichtext_block.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerRichtext_block"};e.exports=a}),null);
__d("reformCometComposerTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerTextWithEntities_textWithEntities"};e.exports=a}),null);
__d("reformCometComposerMultilingualPost_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerMultilingualPost_story"};e.exports=a}),null);
__d("conditionallyReformAsQuiltPost_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"conditionallyReformAsQuiltPost_story"};e.exports=a}),null);
__d("reformCometComposerStoryAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerStoryAttachment_story"};e.exports=a}),null);
__d("reformCometComposerWithSponsorTag_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerWithSponsorTag_story"};e.exports=a}),null);
__d("reformCometComposerWithTag_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerWithTag_story"};e.exports=a}),null);
__d("reformCometComposerKnowledgeNoteAttachment_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerKnowledgeNoteAttachment_story"};e.exports=a}),null);
__d("KnowledgeNoteUtils_audiences.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"KnowledgeNoteUtils_audiences"};e.exports=a}),null);
__d("CommunityQAAttachmentUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a===void 0&&(a=[]);return a.includes("community_qa")}f.isCommunityQAAttachment=a}),66);
__d("reformCometComposerAnimatedImageFromStoryAttachment",["CometRelay","orEmptyArray","reformCometComposerAnimatedImageFromStoryAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerAnimatedImageFromStoryAttachment_attachment.graphql"),a);var f=c("orEmptyArray")(a==null?void 0:a.style_list);f=f.includes("animated_image_share");a=a==null?void 0:(a=a.target)==null?void 0:a.external_url;return f===!1||a==null?e:babelHelpers["extends"]({},e,{animatedImageAttachments:{imageData:{url:a}},attachmentArea:{activeAttachmentType:"ANIMATED_IMAGE"}})}g["default"]=a}),98);
__d("reformCometComposerAnimatedImage",["CometRelay","reformCometComposerAnimatedImageFromStoryAttachment","reformCometComposerAnimatedImage_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerAnimatedImage_story.graphql"),a);return c("reformCometComposerAnimatedImageFromStoryAttachment")(a==null?void 0:(a=a.attachments)==null?void 0:a[0],e)}g["default"]=a}),98);
__d("FbBlockType2DraftJs",[],(function(a,b,c,d,e,f){"use strict";var g=new Map([["UNSTYLED","unstyled"],["PARAGRAPH","paragraph"],["HEADER_ONE","header-one"],["HEADER_TWO","header-two"],["HEADER_THREE","header-three"],["HEADER_FOUR","header-four"],["HEADER_FIVE","header-five"],["HEADER_SIX","header-six"],["UNORDERED_LIST_ITEM","unordered-list-item"],["ORDERED_LIST_ITEM","ordered-list-item"],["BLOCKQUOTE","blockquote"],["CODE","code-block"],["ATOMIC","atomic"],["THEMATIC_BREAK","thematic-break"],["PULLQUOTE","pull-quote"]]);function a(a){a=g.get((a=a)!=null?a:"UNSTYLED");return(a=a)!=null?a:"unstyled"}f["default"]=a}),66);
__d("DraftTreeAdapter",["invariant","generateRandomKey"],(function(a,b,c,d,e,f,g){var h=function(a,b){a=[].concat(a).reverse();while(a.length){var c=a.pop();b(c);c=c.children;Array.isArray(c)||g(0,2517);a=a.concat([].concat(c.reverse()))}},i=function(a){if(!(a&&a.type))return!1;a=a.type;return a==="unordered-list-item"||a==="ordered-list-item"},j=function(a){Array.isArray(a.children)&&(a.children=a.children.map(function(b){return b.type===a.type?babelHelpers["extends"]({},b,{depth:(a.depth||0)+1}):b}))};a={fromRawTreeStateToRawState:function(a){var b=a.blocks,c=[];Array.isArray(b)||g(0,2518);if(!Array.isArray(b)||!b.length)return a;h(b,function(a){var b=babelHelpers["extends"]({},a);if(i(a)){b.depth=b.depth||0;j(a);if(a.children!=null&&a.children.length>0)return}delete b.children;c.push(b)});a.blocks=c;return babelHelpers["extends"]({},a,{blocks:c})},fromRawStateToRawTreeState:function(a){var c=[],d=[];a.blocks.forEach(function(a){var e=i(a),f=a.depth||0,g=babelHelpers["extends"]({},a,{children:[]});if(!e){c.push(g);return}e=d[0];if(e==null&&f===0)c.push(g);else if(e==null||e.depth<f-1){a={key:b("generateRandomKey")(),text:"",depth:f-1,type:a.type,children:[],entityRanges:[],inlineStyleRanges:[]};d.unshift(a);f===1?c.push(a):e!=null&&e.children.push(a);a.children.push(g)}else if(e.depth===f-1)e.children.push(g);else{while(e!=null&&e.depth>=f)d.shift(),e=d[0];f>0?e.children.push(g):c.push(g)}});return babelHelpers["extends"]({},a,{blocks:c})}};e.exports=a}),null);
__d("DraftTreeInvariants",["warning"],(function(a,b,c,d,e,f){var g={isValidBlock:function(a,c){var d=a.getKey(),e=a.getParentKey();if(e!=null){e=c.get(e);if(!e.getChildKeys().includes(d)){b("warning")(!0,"Tree is missing parent -> child pointer on %s",d);return!1}}e=a.getChildKeys().map(function(a){return c.get(a)});if(!e.every(function(a){return a.getParentKey()===d})){b("warning")(!0,"Tree is missing child -> parent pointer on %s",d);return!1}e=a.getPrevSiblingKey();if(e!=null){var f=c.get(e);if(f.getNextSiblingKey()!==d){b("warning")(!0,"Tree is missing nextSibling pointer on %s's prevSibling",d);return!1}}f=a.getNextSiblingKey();if(f!=null){var g=c.get(f);if(g.getPrevSiblingKey()!==d){b("warning")(!0,"Tree is missing prevSibling pointer on %s's nextSibling",d);return!1}}if(f!==null&&e!==null&&e===f){b("warning")(!0,"Tree has a two-node cycle at %s",d);return!1}if(a.text!=""&&a.getChildKeys().size>0){b("warning")(!0,"Leaf node %s has children",d);return!1}return!0},isConnectedTree:function(a){var c=a.toArray().filter(function(a){return a.getParentKey()==null&&a.getPrevSiblingKey()==null});if(c.length!==1){b("warning")(!0,"Tree is not connected. More or less than one first node");return!1}c=c.shift();var d=0;c=c.getKey();var e=[];while(c!=null){var f=a.get(c),g=f.getChildKeys(),h=f.getNextSiblingKey();if(g.size>0){h!=null&&e.unshift(h);h=g.map(function(b){return a.get(b)});g=h.find(function(a){return a.getPrevSiblingKey()==null});if(g==null){b("warning")(!0,"%s has no first child",c);return!1}c=g.getKey()}else f.getNextSiblingKey()!=null?c=f.getNextSiblingKey():c=e.shift();d++}if(d!==a.size){b("warning")(!0,"Tree is not connected. %s nodes were seen instead of %s",d,a.size);return!1}return!0},isValidTree:function(a){var b=a.toArray();return!b.every(function(b){return g.isValidBlock(b,a)})?!1:g.isConnectedTree(a)}};e.exports=g}),null);
__d("createCharacterList",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;function a(a,c){a=a.map(function(a,d){d=c[d];return b("CharacterMetadata").create({style:a,entity:d})});return g(a)}e.exports=a}),null);
__d("decodeEntityRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||b("UnicodeUtils")).substr;function a(a,b){var c=Array(a.length).fill(null);b&&b.forEach(function(b){var d=h(a,0,b.offset).length,e=d+h(a,b.offset,b.length).length;for(var d=d;d<e;d++)c[d]=b.key});return c}e.exports=a}),null);
__d("decodeInlineStyleRanges",["UnicodeUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").OrderedSet;var h=(g||(g=b("UnicodeUtils"))).substr,i=c();function a(a,b){var c=Array(a.length).fill(i);b&&b.forEach(function(b){var d=h(a,0,b.offset).length,e=d+h(a,b.offset,b.length).length;while(d<e)c[d]=c[d].add(b.style),d++});return c}e.exports=a}),null);
__d("convertFromRawToDraftState",["invariant","ContentBlock","ContentBlockNode","ContentState","DraftTreeAdapter","DraftTreeInvariants","SelectionState","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","generateRandomKey","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("gkx")("676842"),i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedMap,l=function(a,c){var d=a.key,e=a.type,f=a.data,g=a.text,h=a.depth;g={text:g,depth:h||0,type:e||"unstyled",key:d||b("generateRandomKey")(),data:j(f),characterList:m(a,c)};return g},m=function(a,c){var d=a.text,e=a.entityRanges;a=a.inlineStyleRanges;e=e||[];a=a||[];return b("createCharacterList")(b("decodeInlineStyleRanges")(d,a),b("decodeEntityRanges")(d,e.filter(function(a){return Object.prototype.hasOwnProperty.call(c,a.key)}).map(function(a){return babelHelpers["extends"]({},a,{key:c[a.key]})})))},n=function(a){return babelHelpers["extends"]({},a,{key:a.key||b("generateRandomKey")()})},o=function(a,b,c){b=b.map(function(a){return babelHelpers["extends"]({},a,{parentRef:c})});return a.concat(b.reverse())},p=function(a,c){return a.map(n).reduce(function(d,e,f){Array.isArray(e.children)||g(0,5197);var h=e.children.map(n);e=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(e,c),{prevSibling:f===0?null:a[f-1].key,nextSibling:f===a.length-1?null:a[f+1].key,children:i(h.map(function(a){return a.key}))}));d=d.set(e.getKey(),e);f=o([],h,e);while(f.length>0){h=f.pop();e=h.parentRef;var j=e.getChildKeys(),k=j.indexOf(h.key),m=Array.isArray(h.children);if(!m){m||g(0,5197);break}m=h.children.map(n);h=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(h,c),{parent:e.getKey(),children:i(m.map(function(a){return a.key})),prevSibling:k===0?null:j.get(k-1),nextSibling:k===j.size-1?null:j.get(k+1)}));d=d.set(h.getKey(),h);f=o(f,m,h)}return d},k())},q=function(a,c){return k(a.map(function(a){a=new(b("ContentBlock"))(l(a,c));return[a.getKey(),a]}))},r=function(a,c){var d=a.blocks.find(function(a){return Array.isArray(a.children)&&a.children.length>0}),e=h&&!d?b("DraftTreeAdapter").fromRawStateToRawTreeState(a).blocks:a.blocks;if(!h)return q(d?b("DraftTreeAdapter").fromRawTreeStateToRawState(a).blocks:e,c);d=p(e,c);return d},s=function(a,b){var c=b.entityMap,d={},e=a;Object.keys(c).forEach(function(a){var b=c[a],f=b.type,g=b.mutability;b=b.data;e=e.createEntity(f,g,b||{});d[a]=e.getLastCreatedEntityKey()});return{entityKeyMap:d,contentState:e}};a=function(a){Array.isArray(a.blocks)||g(0,5199);var c=s(b("ContentState").createFromText(""),a),d=c.contentState;c=c.entityKeyMap;a=r(a,c);c=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new(b("ContentState"))({blockMap:a,entityMap:d.getEntityMap(),selectionBefore:c,selectionAfter:c})};e.exports=a}),null);
__d("createCometComposerEditorStateFromComposedTextBlockWithEntities",["EditorState","FbBlockType2DraftJs","convertFromRawToDraftState","generateRandomKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.block_type,h=f.data,i=f.depth,j=f.entity_ranges,k=f.inline_style_ranges;f=f.text;d.push({data:h,depth:i,entityRanges:j,inlineStyleRanges:k,key:c("generateRandomKey")(),text:f,type:c("FbBlockType2DraftJs")(g)})}h={blocks:d,entityMap:b};i=c("convertFromRawToDraftState")(h);return{__type:"editor-state-based",draftEditorState:c("EditorState").createWithContent(i)}}g["default"]=a}),98);
__d("reformCometComposerTextWithEntities",["CometRelay","createCometComposerEditorStateFromTextWithEntities","createCometComposerMentionsEntity","orEmptyArray","reformCometComposerTextWithEntities_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerTextWithEntities_textWithEntities.graphql"),a);var f=a.text;a=c("orEmptyArray")(a.ranges);var g=[];for(var i=0;i<a.length;i++){var j=a[i];j!=null&&j.offset!=null&&j.length!=null&&j.entity!=null&&j.entity.__typename!=null&&g.push({entity:j.entity,entity_is_weak_reference:j==null?void 0:j.entity_is_weak_reference,length:j.length,offset:j.offset})}i=c("createCometComposerEditorStateFromTextWithEntities")({ranges:g,text:(j=f)!=null?j:""},function(a,b){a=a.entity;var d=a.__typename;a=a.id;return(d==="User"||d==="Page"||d==="Event"||d==="Group")&&a!=null?c("createCometComposerMentionsEntity")(a,!1,b):null});return babelHelpers["extends"]({},e,{editorState:i})}g["default"]=a}),98);
__d("reformCometComposerMessage",["CometRelay","reformCometComposerMessage_story.graphql","reformCometComposerTextWithEntities"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerMessage_story.graphql"),a);a=a==null?void 0:a.message;return a==null||e.formattingType!=null&&e.formattingType!=="MARKDOWN"?e:c("reformCometComposerTextWithEntities")(a,e)}g["default"]=a}),98);
__d("reformCometComposerRichtext",["CometRelay","createCometComposerEditorStateFromComposedTextBlockWithEntities","filterNulls","reformCometComposerRichtext_block.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=a.map(function(a){return d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerRichtext_block.graphql"),a)});var f=[],g={};for(var k=0;k<a.length;k++){var l=a[k],m=l.block_type,n=l.data,o=l.depth,p=l.entity_ranges,q=l.inline_style_ranges;l=l.text;m!=null&&n!=null&&o!=null&&l!=null&&q!=null&&p!=null&&f.push({block_type:m,data:JSON.parse(n),depth:o,entity_ranges:j(p,g),inline_style_ranges:i(q),text:l})}m=c("createCometComposerEditorStateFromComposedTextBlockWithEntities")(f,g);return babelHelpers["extends"]({},e,{editorState:m,formattingType:"RICHTEXT"})}function i(a){return c("filterNulls")(a.map(function(a){var b=a.inline_style,c=a.length;a=a.offset;return c==null||a==null||b==null?null:{length:c,offset:a,style:b}}))}function j(a,b){return c("filterNulls")(a.map(function(a){var c=a.entity,d=a.length,e=a.offset;if(d==null||e==null||c==null||c.__typename!=="User"&&c.__typename!=="Page"&&c.__typename!=="Event"&&c.__typename!=="Group"&&c.__typename!=="ExternalUrl")return null;var f=c.id;if(f==null)return null;b[f]={data:{id:f,type:c.__typename,url:c.__typename==="ExternalUrl"?c.external_url:null},mutability:c.__typename==="ExternalUrl"?"MUTABLE":"SEGMENTED",type:(c=a.entity_type)!=null?c:"MENTIONS"};return{key:f,length:d,offset:e}}))}g["default"]=a}),98);
__d("composerMultilingualReducer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"multilingual_init":return babelHelpers["extends"]({},a,{multilingualData:{mainDialect:b.dialect,mainDialectViewState:{editorState:a.editorState,formattingType:a.formattingType},otherDialects:{}}});case"multilingual_change_main_dialect":var c=h(a,b.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{mainDialect:b.dialect})});case"multilingual_add_dialect":c=h(a,b.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{otherDialects:babelHelpers["extends"]({},(c=c.otherDialects)!=null?c:[],(c={},c[b.dialect]={isTranslating:!1,viewState:{editorState:a.editorState,formattingType:a.formattingType}},c))})});case"multilingual_remove_dialect":c=h(a,b.type);var d=babelHelpers["extends"]({},c.otherDialects);delete d[b.dialect];return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{otherDialects:d})});case"multilingual_autotranslation_request_started":c=h(a,b.type);d=i(c,b.dialect,b.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{otherDialects:babelHelpers["extends"]({},c.otherDialects,(c={},c[b.dialect]=babelHelpers["extends"]({},d,{isTranslating:!0}),c))})});case"multilingual_autotranslation_response_received":d=h(a,b.type);c=i(d,b.dialect,b.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},d,{otherDialects:babelHelpers["extends"]({},d.otherDialects,(d={},d[b.dialect]=babelHelpers["extends"]({},c,{isTranslating:!1,viewState:babelHelpers["extends"]({},b.viewState,{formattingType:"RICHTEXT"})}),d))})});case"multilingual_autotranslation_error":c=h(a,b.type);d=i(c,b.dialect,b.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{otherDialects:babelHelpers["extends"]({},c.otherDialects,(c={},c[b.dialect]=babelHelpers["extends"]({},d,{isTranslating:!1}),c))})});case"multilingual_edit_other_dialect":d=b.dialect;c=b.type;var e=b.viewState;c=h(a,c);var f=c.otherDialects[d];if(f==null)return a;var g=f.viewState;return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{otherDialects:babelHelpers["extends"]({},c.otherDialects,(c={},c[d]=babelHelpers["extends"]({},f,{viewState:babelHelpers["extends"]({},g,e)}),c))})});case"multilingual_edit_main_dialect":d=b.type;f=b.viewState;g=h(a,d);e=g.mainDialectViewState;return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},g,{mainDialectViewState:babelHelpers["extends"]({},e,f)})});case"multilingual_sync_root_view_state_to_main_dialect_view_state":c=h(a,b.type);return babelHelpers["extends"]({},a,{multilingualData:babelHelpers["extends"]({},c,{mainDialectViewState:{editorState:a.editorState,formattingType:a.formattingType}})});case"multilingual_sync_main_dialect_view_state_to_root_view_state":d=j(a,b.type);return babelHelpers["extends"]({},a,{editorState:d});default:return a}}function h(a,b){a=a.multilingualData;if(a==null)throw c("unrecoverableViolation")("Expected non-null multilingual composer data for action: '"+b+"'","comet_composer");return a}function i(a,b,d){a=a.otherDialects[b];if(a==null)throw c("unrecoverableViolation")("Expected non-null multilingual composer dialect data for dialect '"+b+"', action: '"+d+"'","comet_composer");return a}function j(a,b){a=(a=a.multilingualData)==null?void 0:a.mainDialectViewState.editorState;if(a==null)throw c("unrecoverableViolation")("Expected non-null main dialect editor state, action: "+b,"comet_composer");return a}g["default"]=a}),98);
__d("reformCometComposerMultilingualPost",["CometRelay","composerMultilingualReducer","reformCometComposerMultilingualPost_story.graphql","reformCometComposerRichtext","reformCometComposerTextWithEntities"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerMultilingualPost_story.graphql"),a);a=a.author_translations;a=a.filter(function(a){return a.dialect!=null});if(a.length<1)return e;var g=(f=a[0].dialect)==null?void 0:f.name;if(g==null)return e;var i=c("composerMultilingualReducer")(e,{dialect:g,type:"multilingual_init"});a.forEach(function(a){var b;b=(b=a.dialect)==null?void 0:b.name;if(b==null)return;if(a.message==null)return;var d;a.rich_message==null||a.rich_message.length===0?d=c("reformCometComposerTextWithEntities")(a.message,{}):d=c("reformCometComposerRichtext")(a.rich_message,e);b===g?i=c("composerMultilingualReducer")(i,{type:"multilingual_edit_main_dialect",viewState:d}):(i=c("composerMultilingualReducer")(i,{dialect:b,type:"multilingual_add_dialect"}),i=c("composerMultilingualReducer")(i,{dialect:b,type:"multilingual_edit_other_dialect",viewState:d}))});i=c("composerMultilingualReducer")(i,{type:"multilingual_sync_main_dialect_view_state_to_root_view_state"});return i}g["default"]=a}),98);
__d("conditionallyReformAsQuiltPost",["CometRelay","conditionallyReformAsQuiltPost_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="299004627758086";function a(a){return!a?function(a,b){return b}:j}function j(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("conditionallyReformAsQuiltPost_story.graphql"),a);a=(a=a.message)==null?void 0:a.text;return a==null?c:babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"QUILT"},quiltsMetadata:{draftText:null,formattedTextPresetID:i,isUpgrading:!0,promptText:a}})}g["default"]=a}),98);
__d("reformCometComposerStoryAttachment",["CometRelay","gkx","reformCometComposerStoryAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerStoryAttachment_story.graphql"),a);f=(f=a.attached_story)==null?void 0:f.url;a=!!a.is_reshare;if(f==null)return e;a=c("gkx")("1830109")&&a?"SHARE":"LINK";return babelHelpers["extends"]({},e,{attachmentArea:{activeAttachmentType:a},linkAttachment:{url:f}})}g["default"]=a}),98);
__d("reformCometComposerWithSponsorTag",["CometRelay","reformCometComposerWithSponsorTag_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerWithSponsorTag_story.graphql"),a);a=a==null?void 0:(a=a.sponsor_tags[0])==null?void 0:a.id;if(a==null)return c;if(c.withTagIDsTracker==null)return babelHelpers["extends"]({},c,{brandedContent:{sponsorID:a}});var e=new Map(c.withTagIDsTracker);e["delete"](a);return babelHelpers["extends"]({},c,{brandedContent:{sponsorID:a},withTagIDsTracker:e})}g["default"]=a}),98);
__d("reformCometComposerWithTag",["CometRelay","addTagsToWithTagsIDsTracker","orEmptyArray","reformCometComposerWithTag_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerWithTag_story.graphql"),a);var f=new Map(e.withTagIDsTracker);a=c("orEmptyArray")(a==null?void 0:(a=a.with_tags)==null?void 0:a.nodes).map(function(a){return a==null?void 0:a.id}).filter(Boolean);a.forEach(function(a){f=c("addTagsToWithTagsIDsTracker")("WithTagTool",[a],f)});return babelHelpers["extends"]({},e,{withTagIDsTracker:f})}g["default"]=a}),98);
__d("KnowledgeNoteEventType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({OPEN:"OPEN",ENTER_FROM:"ENTER_FROM",PERMISSION:"PERMISSION",POST:"POST",TOOLBAR:"TOOLBAR",CREATE_NOTE:"CREATE_NOTE",CREATE_TEMPLATE:"CREATE_TEMPLATE",DELETE:"DELETE",REPORT:"REPORT",NUX_DIALOG:"NUX_DIALOG",IMPRESSION:"IMPRESSION",PARSE_DOCUMENT:"PARSE_DOCUMENT",SEND_NOTIFICATION:"SEND_NOTIFICATION",CHANGE_SUBSCRIPTION:"CHANGE_SUBSCRIPTION",INLINE_ANNOTATION:"INLINE_ANNOTATION",TOGGLE_LINK_SHARING:"TOGGLE_LINK_SHARING",EXPAND_IMAGE:"EXPAND_IMAGE",COMPONENT_PICKER:"COMPONENT_PICKER",TOGGLE_COMMENTS_LOCATION:"TOGGLE_COMMENT_LOCATION",SHARE_TO_ROOM:"SHARE_TO_ROOM"});c=a;f["default"]=c}),66);
__d("KnowledgeNotesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743707");c=b("FalcoLoggerInternal").create("knowledge_notes",a);e.exports=c}),null);
__d("KnowledgeNoteLogUtils",["Actor","KnowledgeNotesFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function i(a,b,d,e,f){c("KnowledgeNotesFalcoEvent").log(function(){return{event:a,sub_event:b,user_id:e,note_id:d,target_type:null,target_id:null,extra_data:f}})}function a(a,b,c,d,e){i("INLINE_ANNOTATION",a,b,c,{inline_comment_thread_ent_id:(a=d)!=null?a:"",inline_comment_thread_id:(b=e)!=null?b:""})}function b(a,b,c,d){i("COMPONENT_PICKER",a,b,c,{component_name:(a=d)!=null?a:""})}function e(a,b,c){var e=d("Actor").useActor(),f=e[0];h(function(){i("OPEN",a,b,f,c)},[f,b,a,c])}g.logEvent=i;g.logInlineAnnotationsEvent=a;g.logInlineComponentPickerEvent=b;g.useLogOnOpen=e}),98);
__d("XCometNotesTemplatesPermalinkControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/note_templates/{template_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XNotesPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/{?author}/{?slug}/{note_id}/{?mode}/",{note_id:{type:"Int",required:!0},author:{type:"String"},slug:{type:"String"},qid:{type:"String"},mf_story_key:{type:"String"},_ft_:{type:"String"},mode:{type:"String"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"}})}),null);
__d("KnowledgeNoteUtils",["KnowledgeNoteLogUtils","KnowledgeNoteUtils_audiences.graphql","RelayHooks","URI","XCometNotesTemplatesPermalinkControllerRouteBuilder","XNotesPermalinkController","filterNulls","nullthrows","orEmptyArray"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){var h=c("XNotesPermalinkController").getURIBuilder().setInt("note_id",a);e!==!0&&h.setString("mode","edit");d("KnowledgeNoteLogUtils").logEvent("ENTER_FROM",g,a,b);f!=null?f.go(h.getURI().toString(),{}):c("URI").go(h.getURI())}function e(a,b){a=c("XCometNotesTemplatesPermalinkControllerRouteBuilder").buildURL({template_id:a});b!=null?b.go(a,{}):c("URI").go(a)}function f(a){var e,f,g;a=d("RelayHooks").readInlineData(h!==void 0?h:h=b("KnowledgeNoteUtils_audiences.graphql"),a);e=a.readAudience!=null?{userCount:c("nullthrows")((e=a.readAudience)==null?void 0:e.userCount),groups:((e=a.readAudience)==null?void 0:e.audienceGroups)!=null?c("filterNulls")(c("orEmptyArray")((e=a.readAudience)==null?void 0:(e=e.audienceGroups)==null?void 0:(e=e.edges)==null?void 0:e.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.name;c=(c=a.node)==null?void 0:c.count;a=(a=a.node)==null?void 0:a.id;return b!=null&&c!=null&&a!=null?{members:c,name:b,id:a}:null}))):[],users:((e=a.readAudience)==null?void 0:e.userSet)!=null?c("filterNulls")(c("orEmptyArray")((e=a.readAudience)==null?void 0:(e=e.userSet)==null?void 0:(e=e.scim_users)==null?void 0:(e=e.nodes)==null?void 0:e.map(function(a){var b;b=(b=a.work_user)==null?void 0:b.name;a=(a=a.work_user)==null?void 0:a.id;return b!=null&&a!=null?{name:b,id:a}:null}))).concat(c("filterNulls")(c("orEmptyArray")((e=a.readAudience)==null?void 0:(e=e.audienceGroups)==null?void 0:(e=e.edges)==null?void 0:e.reduce(function(a,b){return a.concat((a=b.node)==null?void 0:(b=a.members)==null?void 0:b.nodes.map(function(a){var b=a.name;a=a.id;return b!=null&&a!=null?{name:b,id:a}:null}))},[])))):[]}:null;f=a.editAudience!=null?{callLink:(a==null?void 0:(f=a.editAudience)==null?void 0:f.callLink)==null?null:{name:a==null?void 0:(f=a.editAudience)==null?void 0:(f=f.callLink)==null?void 0:f.name,uri:a==null?void 0:(f=a.editAudience)==null?void 0:(f=f.callLink)==null?void 0:(f=f.roomImage)==null?void 0:f.uri},hiddenGroupCount:a==null?void 0:(f=a.editAudience)==null?void 0:f.hiddenGroupCount,userCount:c("nullthrows")((f=a.editAudience)==null?void 0:f.userCount),groups:((f=a.editAudience)==null?void 0:f.audienceGroups)!=null?c("filterNulls")(c("orEmptyArray")((f=a.editAudience)==null?void 0:(f=f.audienceGroups)==null?void 0:(f=f.edges)==null?void 0:f.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.name;c=(c=a.node)==null?void 0:c.count;a=(a=a.node)==null?void 0:a.id;return b!=null&&c!=null&&a!=null?{members:c,name:b,id:a}:null}))):[],users:((f=a.editAudience)==null?void 0:f.userSet)!=null?c("filterNulls")(c("orEmptyArray")((f=a.editAudience)==null?void 0:(f=f.userSet)==null?void 0:(f=f.scim_users)==null?void 0:(f=f.nodes)==null?void 0:f.map(function(a){var b,c;b=(b=a.work_user)==null?void 0:b.name;c=(c=a.work_user)==null?void 0:c.id;a=(a=a.work_user)==null?void 0:(a=a.profilePicture)==null?void 0:a.uri;return b!=null&&c!=null&&a!=null?{name:b,id:c,profilePicURI:a}:null}))).concat(c("filterNulls")(c("orEmptyArray")((f=a.editAudience)==null?void 0:(f=f.audienceGroups)==null?void 0:(f=f.edges)==null?void 0:f.reduce(function(a,b){return a.concat((a=b.node)==null?void 0:(b=a.members)==null?void 0:b.nodes.map(function(a){var b=a.name,c=a.id;a=(a=a.profilePicture)==null?void 0:a.uri;return b!=null&&c!=null&&a!=null?{name:b,id:c,profilePicURI:a}:null}))},[])))):[]}:null;g=(g=a==null?void 0:a.owner)!=null?g:a.pageOwner;g={name:c("nullthrows")(g==null?void 0:g.name),id:c("nullthrows")(g==null?void 0:g.id),profilePicURI:c("nullthrows")(g==null?void 0:(a=g.profilePicture)==null?void 0:a.uri)};return[g,e,f]}function i(a){return a===null||a.userCount===0&&a.groups.length===0&&a.callLink==null&&((a==null?void 0:a.hiddenGroupCount)==null||(a==null?void 0:a.hiddenGroupCount)===0)}g.navigateToNote=a;g.navigateToTemplate=e;g.getAudiencesFromGraphQL=f;g.isAudienceEmpty=i}),98);
__d("reformCometComposerKnowledgeNoteAttachment",["CometRelay","KnowledgeNoteUtils","reformCometComposerKnowledgeNoteAttachment_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e;a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerKnowledgeNoteAttachment_story.graphql"),a);a=a==null?void 0:(a=a.attachments)==null?void 0:(a=a[0])==null?void 0:a.target;if(a==null||a.id==null||a.title==null)return c;e=((e=a.coverPhotoMetadata)==null?void 0:e.height)!=null&&((e=a.coverPhotoMetadata)==null?void 0:e.id)!=null&&((e=a.coverPhotoMetadata)==null?void 0:e.src)!=null&&((e=a.coverPhotoMetadata)==null?void 0:e.width)!=null?{height:a.coverPhotoMetadata.height,id:a.coverPhotoMetadata.id,src:a.coverPhotoMetadata.src,width:a.coverPhotoMetadata.width,yOffset:(e=(e=a.coverPhotoMetadata)==null?void 0:e.yOffset)!=null?e:0}:null;var f=d("KnowledgeNoteUtils").getAudiencesFromGraphQL(a),g=f[0];f[1];f=f[2];return babelHelpers["extends"]({},c,{attachmentArea:{activeAttachmentType:"KNOWLEDGE_NOTE"},knowledgeNoteAttachment:{coverPhotoMetadata:e,editAudience:f,noteID:(c=a.id)!=null?c:"",owner:g,title:(e=a.title)!=null?e:"",xml:a.xml}})}g["default"]=a}),98);